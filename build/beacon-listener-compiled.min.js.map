{"version":3,"file":"/home/kris/workspace/beacon-listener/build/beacon-listener-compiled.min.js","sources":["beacon-listener-compiled.js"],"names":["_typeof","Symbol","iterator","obj","constructor","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","TOP","RIGHT","BOTTOM","LEFT","EVENT_TYPE_BEACON_FOUND","EVENT_TYPE_BEACON_LOST","BeaconListener","get","me","_events","config","this","staticClass","beacons","region","autoStart","_config","_MIN_TIMER_VAL","_isListening","_timerHandle","_pollInterval","_region","_beaconList","_beaconStates","_beaconDOMNodes","_fullyInside","listeners","_handleBeaconsChange","_handleRegionChange","_handleFullyInsideChange","getConfig","start","later","check","window","addEventListener","value","stop","cancel","isUndefined","_timerHandler","inViewportRegion","node","fullyInside","altRegion","inRegion","viewportRegion","node2","r","getNodeRegion","n","off","tagName","isObject","getOffsets","testMethod","forEach","call","index","testNode","args","apply","fireEvent","listener","beacon","type","data","dispatcher","document","event","CustomEvent","detail","dispatchEvent","callback","push","removeEventListener","stack","l","splice","configItem","hasOwnProperty","isListening","requestAnimationFrame","recalcRegion","_getList","fill","newRegion","isNumber","querySelector","r1","r2","result","Math","max","min","when","fn","periodic","emptyArray","Array","isArray","from","cancelled","method","isString","wrapper","id","setInterval","setTimeout","interval","clearInterval","clearTimeout","varType","isFunction","o","isFinite","getNodeXY","win","winXY","nodeXY","nodeRect","pageXOffset","pageYOffset","getBoundingClientRect","left","top","val","querySelectorAll","body","parentNode","scrollX","scrollY","offsetLeft","offsetTop","_getRegion","winWidth","winHeight","right","bottom","width","height","rect","_getWinSize","doc","defaultView","parentWindow","mode","compatMode","h","innerHeight","w","innerWidth","root","documentElement","clientHeight","clientWidth","docHeight","_getDocSize","docWidth","scrollHeight","scrollWidth","docScrollX","t","scrollLeft","docScrollY","scrollTop"],"mappings":"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"}