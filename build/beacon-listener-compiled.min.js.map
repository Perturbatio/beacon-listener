{"version":3,"file":"/home/kris/workspace/beacon-listener/build/beacon-listener-compiled.min.js","sources":["beacon-listener-compiled.js"],"names":["_typeof","Symbol","iterator","obj","constructor","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","TOP","RIGHT","BOTTOM","LEFT","EVENT_TYPE_BEACON_FOUND","EVENT_TYPE_BEACON_LOST","BeaconListener","get","me","_events","config","this","staticClass","beacons","region","autoStart","pollInterval","_config","_MIN_TIMER_VAL","_isListening","_timerHandle","_pollInterval","_region","_beaconList","_beaconStates","_beaconDOMNodes","_fullyInside","listeners","_handleBeaconsChange","_handleRegionChange","_handleFullyInsideChange","getConfig","start","later","check","window","addEventListener","value","stop","cancel","isUndefined","_timerHandler","inViewportRegion","node","fullyInside","altRegion","inRegion","viewportRegion","node2","r","getNodeRegion","n","off","tagName","isObject","getOffsets","testMethod","forEach","call","index","testNode","args","apply","fireEvent","listener","beacon","type","data","dispatcher","document","event","CustomEvent","detail","dispatchEvent","callback","push","removeEventListener","stack","l","splice","configItem","hasOwnProperty","isListening","requestAnimationFrame","recalcRegion","_getList","fill","newRegion","isNumber","querySelector","r1","r2","result","Math","max","min","when","fn","periodic","emptyArray","Array","isArray","from","cancelled","method","isString","wrapper","id","setInterval","setTimeout","interval","clearInterval","clearTimeout","varType","isFunction","o","isFinite","getNodeXY","win","winXY","nodeXY","nodeRect","pageXOffset","pageYOffset","getBoundingClientRect","left","top","val","querySelectorAll","body","parentNode","scrollX","scrollY","offsetLeft","offsetTop","_getRegion","winWidth","winHeight","right","bottom","width","height","rect","_getWinSize","doc","defaultView","parentWindow","mode","compatMode","h","innerHeight","w","innerWidth","root","documentElement","clientHeight","clientWidth","docHeight","_getDocSize","docWidth","scrollHeight","scrollWidth","docScrollX","t","scrollLeft","docScrollY","scrollTop"],"mappings":"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"}